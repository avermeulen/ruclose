<h1>Add location</h1>

<form class="" action="/locations/add" method="post">
<input type="hidden" name="id" value="{{issue.id}}">

<div class="row">
    <div class="eight columns">
        <label for="heading">Description</label>
        <input type="text" class="u-full-width" name="description" value = {{location.description}}>
        <div class="row">
            <div class="four columns">
                <label for="description" >Latitude</label>
                <input type="number" name="latitude" id="latitude" value = {{location.langitude}}>
            </div>
            <div class="four columns">
                <label for="description" >Longitude</label>
                <input type="number" name="longitude" id="longitude" value = {{location.longitude}}>
            </div>
            <div class="two columns">
                <input type="button" name="getLocation" id="getLocation" value="Get location">
            </div>

        </div>
    </div>
    <div class="six columns">
        <div id="preview">

        </div>
    </div>

</div>
<input class="button-primary" type="submit" value="Submit">



<script type="text/javascript">

    var getLocation = document.getElementById('getLocation');
    var latitude = document.getElementById('latitude');
    var longitude = document.getElementById('longitude');

    getLocation.addEventListener('click', function(e){

        navigator.geolocation.getCurrentPosition(function(position) {
            //
            var coords = position.coords;

            latitude.value = coords.latitude;
            longitude.value = coords.longitude;

        });

    });

</script>
</form>
